<!-- <note-models-app>
    <ng-container columns>
        <th>Title</th>
        <th>Description</th>
    </ng-container>
    <ng-template #commonRowCellTemplate let-model>
        <td>{{model.title}}</td>
        <td>{{model.description}}</td>
    </ng-template>
    <ng-container model-edit>
        <td>
            <input type="number" [(ngModel)]="editedModel!.id" readonly disabled class="form-control" placeholder={{editedModel!.id}}/>
        </td>
        <td>
            <input type="text" [(ngModel)]="editedModel!.title" class="form-control" placeholder="Title"/>
        </td>
        <td>
            <input type="text" [(ngModel)]="editedModel!.description" class="form-control" placeholder="Description"/>
        </td>
    </ng-container>
</note-models-app> -->
<base-app title="Notes">
    <input type="button" value='Add' class="btn btn-outline-primary" (click)="addModel()" />
    <br /><br />
    <table class="table table-hover">
        <thead>
            <tr>
                <th>Id</th>
                <th>Title</th>
                <th>Description</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let model of models">
                <ng-template [ngTemplateOutlet]="loadTemplate(model)" [ngTemplateOutletContext]="{ $implicit: model}" />
            </tr>
        </tbody>
    </table>

    <ng-template #readOnlyTemplate let-model>
        <td>{{model.id}}</td>
        <td>{{model.title}}</td>
        <td>{{model.description}}</td>
        <td>
            <input type="button" value='Change' class="btn btn-outline-warning" (click)="editModel(model)" />
        </td>
        <td>
            <input type="button" value='Delete' class="btn btn-outline-danger" (click)="deleteModel(model)" />
        </td>
    </ng-template>

    <ng-template #editTemplate>
        <td>
            <input type="number" [(ngModel)]="editedModel!.id" readonly disabled class="form-control" placeholder={{editedModel!.id}}/>
        </td>
        <td>
            <input type="text" [(ngModel)]="editedModel!.title" class="form-control" placeholder="Title" required minlength="3" #title="ngModel"/>
            <div [hidden]="title.valid || title.untouched" class="alert alert-danger">
                Title name must be at least 3 characters long
            </div>
        </td>
        <td>
            <input type="text" [(ngModel)]="editedModel!.description" class="form-control" placeholder="Description" minlength="5" #description="ngModel"/>
            <div [hidden]="description.valid || description.untouched" class="alert alert-danger">
                Description must be at least 5 characters long
            </div>
        </td>
        <td>
            <input type="button" value='Save' class="btn btn-outline-primary" (click)="saveModel()" [disabled]="title.invalid || description.invalid"/>
        </td>
        <td>
            <input type="button" value='Cancel' class="btn btn-outline-warning" (click)="cancel()" />
        </td>
    </ng-template>
</base-app>